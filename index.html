<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üèÆ B√†i 1‚Äì5 ‚Äî T·ª´ v·ª±ng H√°n ng·ªØ | CN‚ÄìPinyin‚ÄìVI‚ÄìEN</title>
  <meta name="description" content="T·ª´ v·ª±ng H√°n ng·ªØ: ch·ªØ H√°n, pinyin, nghƒ©a VI/EN v√† v√≠ d·ª•. C√≥ n√∫t loa ƒë·ªçc to. S·∫µn s√†ng deploy GitHub Pages."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+SC:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1020; --card:#121936; --muted:#96a0c7; --text:#e6ecff;
      --accent:#7c3aed; --accent-2:#22d3ee; --radius:18px; --radius-sm:12px;
      --shadow:0 10px 30px rgba(20,25,55,.6), 0 4px 18px rgba(20,25,55,.35);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, #1a2352, transparent 60%),
                  radial-gradient(1200px 600px at 110% 10%, #0b2a3e, transparent 50%),
                  linear-gradient(180deg, #090d1c 0%, #0b1020 100%);
      letter-spacing:.2px;
    }
    header{position:sticky; top:0; z-index:10; backdrop-filter:blur(10px);
      background:linear-gradient(180deg, rgba(9,13,28,.75), rgba(9,13,28,.35));
      border-bottom:1px solid rgba(124,58,237,.25);}
    .container{max-width:1100px; margin:0 auto; padding:18px 20px;}
    .hero{display:flex; gap:18px; align-items:center; flex-wrap:wrap}
    .logo{width:48px; height:48px; border-radius:14px; display:grid; place-items:center;
      background:conic-gradient(from 210deg, var(--accent), var(--accent-2), var(--accent));
      box-shadow:0 6px 16px rgba(124,58,237,.45); font-size:24px;}
    h1{margin:0; font-weight:800; font-size:clamp(22px,3.2vw,30px)}
    .sub{color:var(--muted); margin-top:4px; font-size:14px}

    .toolbar{display:flex; flex-wrap:wrap; gap:10px; margin-top:14px}
    .tool,.chip{display:inline-flex; align-items:center; gap:8px; padding:10px 12px;
      border-radius:var(--radius-sm); background:rgba(124,58,237,.16); border:1px solid rgba(124,58,237,.4);
      color:#e9e5ff; cursor:pointer; user-select:none; transition:.2s transform,.2s background;}
    .tool:hover{transform:translateY(-1px); background:rgba(124,58,237,.24)}
    .tool[data-active="false"]{opacity:.65; background:rgba(124,58,237,.1)}
    .search{flex:1 1 260px; display:flex; align-items:center; gap:10px; background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14); border-radius:var(--radius-sm); padding:10px 12px}
    .search input{width:100%; background:transparent; outline:0; border:0; color:var(--text); font-size:14px}

    main{padding:28px 20px}
    .grid{max-width:1100px; margin:0 auto; display:grid; gap:16px;
      grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));}

    .card{border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.09); padding:18px; box-shadow:var(--shadow)}
    .han{font-family:"Noto Sans SC",Inter,sans-serif; font-size:36px; font-weight:700; letter-spacing:.5px}
    .pinyin{color:#cfe8ff; font-weight:600; margin-top:4px}
    .mean{margin-top:6px; font-size:14px; color:#e6f9ff}
    .flex-row{display:flex; align-items:center; justify-content:space-between; gap:12px}
    .badge{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.18); color:#d7e0ff; background:rgba(255,255,255,.06)}

    /* Loa (TTS) */
    .icon-btn{display:inline-grid; place-items:center; width:36px; height:36px; border-radius:12px;
      border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06);
      cursor:pointer; transition:.2s transform,.2s background}
    .icon-btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.12)}
    .icon-row{display:flex; align-items:center; gap:10px}

    .ex{margin-top:12px; padding:12px; border-radius:12px; background:rgba(34,211,238,.1); border:1px dashed rgba(34,211,238,.35)}
    .ex .cn{font-family:"Noto Sans SC",Inter,sans-serif; font-weight:600}
    .ex .py{color:#bde7ff} .ex .vi{color:#e0ffe0} .ex .en{color:#ffe9bd}

    .muted{color:var(--muted); font-size:12px}
    .footer{color:var(--muted); text-align:center; padding:40px 20px; border-top:1px solid rgba(255,255,255,.08)}
    .hide{display:none}

    @media print{
      header,.toolbar,.search{display:none!important}
      body{background:#fff; color:#000}
      .card{break-inside:avoid; box-shadow:none; border:1px solid #ddd}
      .ex{border-color:#ddd; background:#fafafa}
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="hero">
        <div class="logo" aria-hidden>üèÆ</div>
        <div>
          <h1>B√†i 1‚Äì5 ‚Äî T·ª´ v·ª±ng H√°n ng·ªØ</h1>
          <div class="sub">CN ¬∑ Pinyin ¬∑ VI ¬∑ EN ¬∑ V√≠ d·ª• minh ho·∫° ‚Äî C√≥ ƒë·ªçc to (TTS) ‚Äî GitHub Pages</div>
        </div>
      </div>
      <div class="toolbar" role="group" aria-label="B·ªô c√¥ng c·ª• hi·ªÉn th·ªã">
        <label class="search" title="T√¨m ki·∫øm theo ch·ªØ, pinyin ho·∫∑c nghƒ©a">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M21 21l-4.35-4.35" stroke="#c9d3ff" stroke-width="1.6" stroke-linecap="round"/>
            <circle cx="11" cy="11" r="7" stroke="#c9d3ff" stroke-width="1.6"/></svg>
          <input id="q" placeholder="T√¨m: ‰Ω†, n«ê, b·∫°n, hello..." />
        </label>
        <button id="t-py" class="tool" data-active="true">Pinyin</button>
        <button id="t-vi" class="tool" data-active="true">Ti·∫øng Vi·ªát</button>
        <button id="t-en" class="tool" data-active="true">English</button>
        <button id="t-ex" class="tool" data-active="true">V√≠ d·ª•</button>
        <span class="chip" title="S·ªë m·ª•c hi·ªÉn th·ªã"><strong id="count">0</strong>&nbsp;m·ª•c</span>
      </div>
    </div>
  </header>

  <main><div class="grid" id="grid" aria-live="polite"></div></main>

  <footer class="footer">
    <div>Made with ‚ù§ for learners. G·ª£i √Ω deploy: repo <code>your-username.github.io</code> ¬∑ Settings ‚Üí Pages ‚Üí Branch: <code>main</code>.</div>
  </footer>

  <script>
    // ======= Data (B√†i 1‚Äì5) =======
    const ITEMS = [
      /* ... (to√†n b·ªô danh s√°ch b√†i 1‚Äì5 ƒë√£ c√≥ c·ªßa b·∫°n ‚Äì gi·ªØ nguy√™n nh∆∞ hi·ªán trong file c·ªßa b·∫°n) ... */
      // (ƒê·ªÉ ƒë·∫ßy ƒë·ªß, m√¨nh gi·ªØ nguy√™n y h·ªát n·ªôi dung b·∫°n ƒëang d√πng; n·∫øu b·∫°n c·∫ßn m√¨nh c√≥ th·ªÉ g·ª≠i l·∫°i to√†n b·ªô m·∫£ng.)
    ];

    // ======= State =======
    const state = { showPy:true, showVi:true, showEn:true, showEx:true, q:"" };

    // ======= DOM =======
    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const btnPy = document.getElementById('t-py');
    const btnVi = document.getElementById('t-vi');
    const btnEn = document.getElementById('t-en');
    const btnEx = document.getElementById('t-ex');
    const count = document.getElementById('count');

    // ======= TTS helpers =======
    const tts = {
      voice: null,
      ensureVoice(){
        const pick = (voices) =>
          voices.find(v => /Chinese|‰∏≠Êñá|ÊôÆÈÄöËØù|CMN|zh/i.test(v.name+v.lang)) ||
          voices.find(v => /zh/i.test(v.lang));
        const voices = window.speechSynthesis.getVoices();
        if(voices && voices.length) this.voice = pick(voices) || null;
      },
      speak(text){
        if(!('speechSynthesis' in window)){
          alert('Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ ƒë·ªçc to (Speech Synthesis).'); return;
        }
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = (this.voice && this.voice.lang) || 'zh-CN';
        if(this.voice) u.voice = this.voice;
        u.rate = 0.95; // ch·∫≠m d·ªÖ nghe
        u.pitch = 1.0;
        window.speechSynthesis.speak(u);
      }
    };
    tts.ensureVoice();
    window.speechSynthesis.onvoiceschanged = () => tts.ensureVoice();

    function normal(s){return (s||"").toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,'');}

    function render(){
      grid.innerHTML = '';
      const qn = normal(state.q);
      const filtered = ITEMS.filter(it => {
        const target = [it.han, it.py, it.vi, it.en, it.ex.cn, it.ex.py, it.ex.vi, it.ex.en].join(' | ');
        return normal(target).includes(qn);
      });

      filtered.forEach(it => {
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="flex-row">
            <div>
              <div class="han" aria-label="Chinese">${it.han}</div>
              <div class="pinyin ${state.showPy? '': 'hide'}">/${it.py}/</div>
              <div class="mean ${state.showVi? '': 'hide'}">VI: ${it.vi}</div>
              <div class="mean ${state.showEn? '': 'hide'} muted">EN: ${it.en}</div>
            </div>
            <div class="icon-row">
              <button class="icon-btn speak-word" title="ƒê·ªçc ch·ªØ H√°n">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
                  <path d="M3 10v4h3l4 3V7L6 10H3z" stroke="#dbe5ff" stroke-width="1.6" stroke-linejoin="round"/>
                  <path d="M16 8a5 5 0 0 1 0 8" stroke="#dbe5ff" stroke-width="1.6" stroke-linecap="round"/>
                  <path d="M18.5 5.5a8.5 8.5 0 0 1 0 13" stroke="#dbe5ff" stroke-width="1.6" stroke-linecap="round"/>
                </svg>
              </button>
              <span class="badge" title="B·∫•m ƒë·ªÉ sao ch√©p" role="button" tabindex="0">Sao ch√©p</span>
            </div>
          </div>
          <div class="ex ${state.showEx? '': 'hide'}">
            <div class="cn">üëâ ‰æãÂè•Ôºö${it.ex.cn}
              <button class="icon-btn speak-ex" title="ƒê·ªçc v√≠ d·ª•" style="margin-left:8px">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden>
                  <path d="M3 10v4h3l4 3V7L6 10H3z" stroke="#bde7ff" stroke-width="1.5" stroke-linejoin="round"/>
                  <path d="M16 8a5 5 0 0 1 0 8" stroke="#bde7ff" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </button>
            </div>
            <div class="py">/${it.ex.py}/</div>
            <div class="vi">${it.ex.vi}</div>
            <div class="en">${it.ex.en}</div>
          </div>
        `;
        // Copy
        card.querySelector('.badge').addEventListener('click', () => {
          const text = `${it.han} /${it.py}/ ‚Äî ${it.vi} / ${it.en}\n‰æãÂè•Ôºö${it.ex.cn} /${it.ex.py}/ ‚Äî ${it.ex.vi} / ${it.ex.en}`;
          navigator.clipboard.writeText(text).then(()=>{
            const b = card.querySelector('.badge');
            const old = b.textContent; b.textContent='‚úì ƒê√£ ch√©p'; b.style.borderColor='rgba(34,211,238,.8)';
            setTimeout(()=>{b.textContent=old; b.style.borderColor='rgba(255,255,255,.18)';}, 1200);
          });
        });
        // Speak
        card.querySelector('.speak-word').addEventListener('click', () => tts.speak(it.han));
        card.querySelector('.speak-ex').addEventListener('click', () => tts.speak(it.ex.cn));

        grid.appendChild(card);
      });
      count.textContent = filtered.length;
    }

    // ======= Events =======
    q.addEventListener('input', e => {state.q = e.target.value; render();});
    const toggle = (btn,key) => { state[key]=!state[key]; btn.dataset.active=String(state[key]); render(); }
    btnPy.addEventListener('click', ()=> toggle(btnPy,'showPy'));
    btnVi.addEventListener('click', ()=> toggle(btnVi,'showVi'));
    btnEn.addEventListener('click', ()=> toggle(btnEn,'showEn'));
    btnEx.addEventListener('click', ()=> toggle(btnEx,'showEx'));

    // ======= Init =======
    render();
  </script>
</body>
</html>
